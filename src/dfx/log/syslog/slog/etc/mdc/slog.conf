# -----------------------------------------------------------------------------------------------------------
# Copyright (c) 2025 Huawei Technologies Co., Ltd.
#Â This program is free software, you can redistribute it and/or modify it under the terms and conditions of
# CANN Open Software License Agreement Version 2.0 (the "License").
# Please refer to the License for details. You may not use this file except in compliance with the License.
# THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED,
# INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT, MERCHANTABILITY, OR FITNESS FOR A PARTICULAR PURPOSE.
# See LICENSE in the root of the software repository for the full text of the License.
# -----------------------------------------------------------------------------------------------------------
# You can set config items about device log.
# If config item is not set, or set by non-natural number(such as "level=-1" "level=a"), it will be set by default value.
# If config item value has a range(such as [1, 1000]), and set a nutural number out of range, there are two situations here.
#   1. number is below the lower limit(such as 0), it will be set by lower_limit(1)
#   2. number is above the upper limit(such as 1001), it will be set by upper_limit(1000)
# If config item value is enumerated, and set a nutural number out of enumeration, it will be set by default value.

# note, 0:debug, 1:info, 2:warning, 3:error, 4:null(no output log), default(3)
# run logs level is info, security logs level is debug, they can not change
# the config item only works for debug logs
global_level=3
# Event Type Log Flag, 0:disable, 1:enable, default(1)
enableEvent=1
# note, 0:debug, 1:info, 2:warning, 3:error, 4:null(no output log), 5:invalid(follow global_level)
SLOG=5                                     # Slog
IDEDD=5                                    # ascend debug device agent
DVPP=5                                     # DVPP
CCE=5                                      # CCE
HDC=5                                      # HDC
DRV=5                                      # Driver
DEVMM=5                                    # Dlog memory managent
KERNEL=5                                   # Kernel
LIBMEDIA=5                                 # Libmedia
ROS=5                                      # ROS
HCCP=5
ROCE=5
PROFILING=5                                # Profiling
APP=5                                      # User Application call HIAI_ENGINE_LOG
TDT=5
MD=5
MB=5
ME=5
CAMERA=5
TEEOS=5
DSS=5
PROCMGR=5                                  # Process Manager, Base Platform
BBOX=5
AIVECTOR=5
TSYNC=5
ASCENDCKERNEL=5

# note, 0:debug, 1:info, 2:warning, 3:error, 4:null(no output log), 5:invalid(follow global_level)
TS=5
TSDUMP=5
LP=5
ISP=5
SIS=2
HSM=5

# set debug device-os_xxx.log file num, range is [1, 1000], default(8)
DeviceOsMaxFileNum=11
# set debug device-os_xxx.log file size, range is [1048576, 104857600]bytes, default(10485760)bytes
DeviceOsMaxFileSize=10485760
# set run device-os_xxx.log file num, range is [1, 1000], default(3)
DeviceOsNdebugMaxFileNum=16
# set run device-os_xxx.log file size, range is [1048576, 104857600]bytes, default(10485760)bytes
DeviceOsNdebugMaxFileSize=2097152
# set device-x_xxx.log file num, range is [1, 1000], default(8)
DeviceMaxFileNum=11
# set device-x_xxx.log file size, range is [1048576, 104857600]bytes, default(10485760)bytes
DeviceMaxFileSize=10485760
# set device-app-xxx_xxx.log file num, range is [1, 1000], default(3)
DeviceAppMaxFileNum=15
# set device-app-xxx_xxx.log file size, range is [524288, 104857600]bytes, default(1048576)bytes
DeviceAppMaxFileSize=2097152
# set log file root path
logAgentFileDir=/home/mdc/var/log/
# set system log buf size, range is [64*1024, 1024*1024]bytes, default(256*1024)bytes
SysLogBufSize=262144
# set application log buf size, range is [64*1024, 1024*1024]bytes, default(256*1024)bytes
AppLogBufSize=262144
# write file limit switch, 0:close, 1:open, default(1)
WriteLimitSwitch=1

[event]
# class=class_name(file name head for string logs)
class=event
# input_rule=log_classify(event)
input_rule=event
# output_rule=save_mod;max_size(bytes, [524288, 104857600], default(1048576));max_num([1, 1000], default(8));
# total_size(bytes, [524288, 104857600], default(1048576), must greater than max_size)
output_rule=file;1048576;64;2097152
# storage_rule=period_storage(hour, [0, 24], default(0))
storage_rule=2

# MaxSize: total size of log files, range is (0, 800]MB
# LogBufSize: size of the log cache space, range is (0, 256]KB
# LogAgentFileDir: root directory for storing logs.
[GENERAL]
	MaxSize = 150MB
	LogBufSize = 256KB
	LogAgentFileDir = /home/mdc/var/log/
# GroupName: name of a log group, group name must be unique in each slog process.
# Module: module name, use ',' to separate. For details, see slog.h.
# Ratio: percentage of log groups to MaxSize, range is (0, 100]
# FileSize: size of each file in this group, range is [1, 20]MB, only for reference
#
# IsDefaultGroup: specifies the group as default group. All modules that are not grouped will be added to the group.
# eg:		[GROUP]
#				GroupName=device-0
#				Module=SLOG
#				Ratio=10%
#				FileSize=10
[LOG_DAEMON]
# The group cannot be adjusted.
	[GROUP]
		GroupName=device-0
		Module=LP,ISP,TS,TSDUMP,SIS,HSM
		Ratio=30%
		FileSize=5
[SLOGD]
	[GROUP]
		GroupName=TSYNC
		Module=TSYNC
		Ratio=2%
		FileSize=1
	[GROUP]
		GroupName=DVPP
		Module=DVPP
		Ratio=3%
		FileSize=2
	[GROUP]
		GroupName=DRV
		Module=DRV,DEVMM,KERNEL,TEEOS
		Ratio=10%
		FileSize=3
	[GROUP]
		GroupName=MEDIA
		Module=LIBMEDIA,DSS
		Ratio=5%
		FileSize=2
	[GROUP]
		GroupName=ROS
		Module=ROS
		Ratio=22%
		FileSize=3
	[GROUP]
		GroupName=PROCMGR
		Module=PROCMGR
		Ratio=3%
		FileSize=2
	[GROUP]
		GroupName=CAMERA
		Module=CAMERA
		Ratio=12%
		FileSize=3
	[GROUP]
		GroupName=AICPU
		Module=AICPU,CCECPU
		Ratio=3%
		FileSize=2
	[GROUP]
		GroupName=RTS
		Module=TDT,HDC,FFTS,RUNTIME,ASCENDCKERNEL
		Ratio=4%
		FileSize=2
	[GROUP]
		GroupName=GE
		Module=FMK,CCE,FE,GE,ASCENDCL
		Ratio=4%
		FileSize=2
	[GROUP]
		GroupName=TOOLS
		Module=PROFILING,BBOX,TUNE,IDEDD
		Ratio=2%
		FileSize=1

