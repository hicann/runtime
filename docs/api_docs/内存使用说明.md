# 内存使用说明<a name="ZH-CN_TOPIC_0000001312721377"></a>

各产品型号在内存使用上有一些注意事项，如下表所示。

<a name="table132172320487"></a>
<table><thead align="left"><tr id="row103221023174818"><th class="cellrowborder" valign="top" width="33.87%" id="mcps1.1.3.1.1"><p id="p14322152311485"><a name="p14322152311485"></a><a name="p14322152311485"></a>型号</p>
</th>
<th class="cellrowborder" valign="top" width="66.13%" id="mcps1.1.3.1.2"><p id="p232232318483"><a name="p232232318483"></a><a name="p232232318483"></a>注意事项</p>
</th>
</tr>
</thead>
<tbody><tr id="row1985713362272"><td class="cellrowborder" valign="top" width="33.87%" headers="mcps1.1.3.1.1 "><p id="p19857103642713"><a name="p19857103642713"></a><a name="p19857103642713"></a>各型号都涉及</p>
</td>
<td class="cellrowborder" valign="top" width="66.13%" headers="mcps1.1.3.1.2 "><a name="ul278692202817"></a><a name="ul278692202817"></a><ul id="ul278692202817"><li>若涉及媒体数据处理功能，由于媒体数据处理功能对存放输入、输出数据的内存有更高的要求，因此需调用专用的内存申请接口，例如<span id="ph264023511553"><a name="ph264023511553"></a><a name="ph264023511553"></a>hi_mpi_dvpp_malloc</span>。</li><li>调用专用的内存申请接口申请出来的内存可以满足媒体数据处理的要求，也可以在其它任务中使用，例如，从性能角度，为了减少拷贝，媒体数据处理的输出作为模型推理的输入，实现内存复用。</li><li>但由于媒体数据处理访问的地址空间有限，为确保媒体数据处理时内存足够，除媒体数据处理功能外的其它功能（例如，模型加载），建议调用<a href="内存管理.md">内存管理</a>下的接口申请内存，例如<a href="aclrtMalloc.md">aclrtMalloc</a>接口、<a href="aclrtMallocHost.md">aclrtMallocHost</a>接口等。</li></ul>
</td>
</tr>
<tr id="row2322182313481"><td class="cellrowborder" valign="top" width="33.87%" headers="mcps1.1.3.1.1 "><p id="p04691358122814"><a name="p04691358122814"></a><a name="p04691358122814"></a><span id="ph578419582284"><a name="ph578419582284"></a><a name="ph578419582284"></a><term id="zh-cn_topic_0000001312391781_term1253731311225"><a name="zh-cn_topic_0000001312391781_term1253731311225"></a><a name="zh-cn_topic_0000001312391781_term1253731311225"></a>Ascend 910C</term></span></p>
<p id="p1322172316486"><a name="p1322172316486"></a><a name="p1322172316486"></a><span id="ph8505678509"><a name="ph8505678509"></a><a name="ph8505678509"></a><term id="zh-cn_topic_0000001312391781_term11962195213215"><a name="zh-cn_topic_0000001312391781_term11962195213215"></a><a name="zh-cn_topic_0000001312391781_term11962195213215"></a>Ascend 910B</term></span></p>
</td>
<td class="cellrowborder" valign="top" width="66.13%" headers="mcps1.1.3.1.2 "><a name="ul77941527174511"></a><a name="ul77941527174511"></a><ul id="ul77941527174511"><li>若涉及申请Device上的大页内存，需注意，当前版本为防止大页内存不够用，系统内部已提前预留大页内存，用户在使用大页内存前，可调用<a href="aclrtGetMemInfo.md">aclrtGetMemInfo</a>接口，查询空闲的大页内存。</li><li><span id="ph13856311453"><a name="ph13856311453"></a><a name="ph13856311453"></a><term id="zh-cn_topic_0000001312391781_term167991965382"><a name="zh-cn_topic_0000001312391781_term167991965382"></a><a name="zh-cn_topic_0000001312391781_term167991965382"></a>Ascend EP</term></span>形态下，Device启动后首次执行推理或训练任务时，会将AI CPU算子从Host搬迁到Device上并缓存在Device上，用于提升性能，因此会占用部分Device内存（100M~200M，不同<span id="ph585143134515"><a name="ph585143134515"></a><a name="ph585143134515"></a>昇腾AI处理器</span>有所不同）。若Device重启，这部分AI CPU算子缓存才会释放。</li></ul>
</td>
</tr>
</tbody>
</table>

